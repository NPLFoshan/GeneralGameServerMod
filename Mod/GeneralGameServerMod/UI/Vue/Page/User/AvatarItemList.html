<template style="display: inline-block; padding: 6px; width: 100%; height: 100%;">
    <div class="scroll" style="width: 100%; height: 100%; overflow-y: auto;">
        <div v-for="item in AvatarItems" class="item" onclick="ClickItem(item)">
            <div v-bind:style="ItemStyle(item)"></div>
            <div class="center" style="height: 30px; color: #000000; font-size: 12px;">{{item.name}}</div>
        </div>
    </div>
</template>

<script type="text/lua">

function OnAttrValueChange()
end

function ClickItem(item)
	NPL.load("(gl)script/apps/Aries/Creator/Game/Entity/CustomCharItems.lua");
	local CustomCharItems = commonlib.gettable("MyCompany.Aries.Game.EntityManager.CustomCharItems");
	local playerEntity = GameLogic.GetPlayerController():GetPlayer();
	local skin = playerEntity:GetSkin();

	local skinTable = CustomCharItems:SkinStringToTable(skin);
	if (item.geoset) then
		skinTable.geosets[math.floor(item.geoset/100) + 1] = item.geoset % 100;
	end
	if (item.texture) then
		local id, filename = string.match(item.texture, "(%d+):(.*)");
		skinTable.textures[tonumber(id)] = filename;
	end
	if (item.attachment) then
		local id, filename = string.match(item.attachment, "(%d+):(.*)");
		skinTable.attachments[tonumber(id)] = filename;
	end

	local currentSkin = CustomCharItems:SkinTableToString(skinTable);
	if(skin ~= currentSkin) then
        local assetfile = playerEntity:GetMainAssetPath();
        GetGlobalScope():Set("MainAsset", assetfile);
        GameLogic.options:SetMainPlayerSkins(currentSkin);
        GetGlobalScope():Set("MainSkin", currentSkin);
        playerEntity:SetSkin(currentSkin);
		UpdatePlayerEntityInfo();
	end
end 

function ItemStyle(item)
    return string.format("margin-left:30px;margin-top: 15px; margin-bottom: 15px; width: 64px; height: 64px; background:url(%s)", item.icon);
end

function OnReady()
end 

</script>

<style>
.item {
    width: 146px;
    height: 140px;
    padding: 10px 9px 0px 9px;
    display: inline-block;
    background: url(Texture/Aries/Creator/keepwork/ggs/user/renwuqiehuan/wupingbj_146X140_32bits.png#0 0 146 140);
}
</style>
