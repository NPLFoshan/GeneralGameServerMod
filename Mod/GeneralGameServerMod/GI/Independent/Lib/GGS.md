
# 多人联机

旧版本多人联机(GGS)是基于动画帧同步机制实现的, 该种实现方式需要同步大量的数据包, 然后在其它玩家客户端根据数据包进行失真还原(动画帧间隔不是严格一致). 
该种方式带宽和性能消耗都比较大, 为了保证一定多人联机数量, 做了很多优化如: 客户端服务器聚合延迟发送等. 但所有优化都是基于降低使用体验为代价. 导致基于
此很多即时场景都没法很好的去做, 如射击游戏等.

为解决上述诸多的问题, 现基于按键模式同步玩家位置, 即时发送玩家方向的键按下与抬起两个行为, 其它玩家客户端收到方向按键消息后直接让其对应的玩家实体执行
相同的运动逻辑. 这样既可低延迟低带宽也基本是无失真. 保证效果的同时也节省大量的带宽, 以便更好服务于业务场景.

新方案联机方式:

新联机方案是基于游戏沙盒(GI)实现的, 底层连接目前还是复用GGS的链接, 同步逻辑在GI中实现. 故新的联机方式为执行沙盒脚本: 代码方块中执行 GI.API.GetGGSEntityModule() 代码即可.

缺陷:
整个沙盒缺少实际使用, 测试, 稳定性差. 慎用. GGS额外功能可能缺失.

